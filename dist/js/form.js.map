{"version":3,"sources":["form.js"],"names":["hideLabel","inputName","showLabel","classList","add","previousElementSibling","remove","fullName","email","value","message","msg","event","buttonContainer","replaceButton","insertAdjacentHTML","status","data","form","style","document","querySelector","xhr","open","contact","setRequestHeader","checkImage","readyState","DONE","display","innerHTML","Object","encodeURIComponent","encoded","keys","map","k","join","send","mobileMenu","nav","body","header","navContainer","addEventListener","label","toggle","tagName","e","i","formInput","length","button","getFormData","handleFormSubmit"],"mappings":"AAAA,YA8BC,SAAAA,WAAAC,GACDA,EAASC,uBAAoBC,UAAAC,IAAA,cAE5B,QAAAF,WAAAD,GADCA,EAAUI,uBAAuBF,UAAUG,OAAO,cAkChDC,QAAAA,eAOJ,OALIC,UAAQA,SAHCC,OAITC,OAAAA,MAAcD,OAJhBD,OAAAA,MAAAC,OAMAC,SAAAC,IAAAF,QAIA,QAAIC,kBAAcE,GAEhB,GADAC,EAAAA,kBACAH,QAAMI,MAAAA,CAORD,gBAAgBE,YAAAA,OAQZF,iBAAQG,mBAAgB,aAPtBC,4dAQAC,IAAAA,GAAKC,cACLC,EAAAA,EAASC,OAAAA,OACTD,EAAAA,GAAAA,eACAE,GAAAC,KAAA,OAAMC,GACNF,EAAAG,iBAAMC,eAAAA,qCAKRF,EAAAA,mBAAQT,WAXV,GAAIO,EAAIK,aAAeL,EAAIM,MAazB,MAAAN,EAAAN,OAAA,CACDE,KAAAC,MAAAU,QAAA,OACFT,SAAAC,cAAA,mBAAAS,UAAA,gBAhBDV,SAAAC,cAAA,kBAAAS,UAAA,iEAcI,YAIQC,UAAYd,cAAU,YANtBF,mBAAmB,aAOxBiB,mNADT,IAAIC,GAAUF,OAAOG,KAAKjB,GAAMkB,IAAI,SAASC,GAC3C,MAAOJ,oBAAmBI,GAAK,IAAMJ,mBAAmBf,EAAKmB,MAC5DC,KAAK,IACRf,GAAIgB,KAAKL,IA9GT,GAAMM,YAAanB,SAASC,cAAc,iBAApCkB,IAAAA,SAAanB,cAASC,QACtBmB,KAAMpB,SAASC,cAAc,SAC7BoB,OAAOrB,SAASC,cAAc,WAC9BqB,aAAStB,SAASC,cAAc,mBAChCsB,MAAAA,SAAevB,eAASC,SAYxBX,KAAAA,SAAUU,cAAA,SACVT,UAAMS,SAASC,iBAArB,eADMX,QAAUU,SAASC,cAAc,YAGlCuB,IAAAA,SAALvB,cAAiC,OAE/BH,MAAA0B,iBAAc,UAASvC,SAAAA,GACvB,GACEwC,IADUA,EAAAA,OACJ1C,EAAAA,OAAU2C,uBACjBD,IAAA,UAAAA,EAAAE,SALHF,EAAA1C,UAAA2C,OAAA,cAiBE5B,KAAA0B,iBAAkBG,WAAY,SAAAC,GAC5BH,GAAAA,GAAM1C,EAAAA,OAAU2C,sBACjBD,IAAA,UAAAA,EAAAE,SACDF,EAAI1C,UAAS8C,OAAIC,WAEblD,KAAAA,GAAAA,GAAAA,EAAAA,EAAUkD,UAAVC,OAAAF,IADFC,UAEKD,GAAAxC,MACHP,UAAUgD,UAAUD,IAEvB/C,UAAAgD,UAAAD,GACDtC,KAEKF,MACHP,UAAUS,KAfdT,UAAAS,MAyBA,IAAMH,UAAQY,SAASC,cAAc,aAC/BR,MAAAA,SAAkBO,cAASC,UAC3B+B,MAAShC,SAASC,cAAc,UADhCR,gBAAkBO,SAASC,cAAc,2BAG/C+B,OAASC,SAAchC,cAAA,gBAmDvBH,MAAK0B,iBAAiB,SAAUU,kBAAkB","file":"form.js","sourcesContent":["\"use strict\"\nconst mobileMenu = document.querySelector('.mobile__menu');\nconst nav = document.querySelector('.nav');\nconst body = document.querySelector('.body');\nconst header = document.querySelector('.header');\nconst navContainer = document.querySelector('.nav__container');\nconst video = document.getElementById('video');\n\n\n\n\n//\n// Contact Form animation\n//\n//\nconst form = document.querySelector('.form');\nconst formInput = document.querySelectorAll('.form input');\nconst message = document.querySelector('#message'); // Spam bot protection fiels\nconst msg = document.querySelector('#msg');\n\nform.addEventListener('focusin', (e) => {\n  const input = e.target;\n  const label = e.target.previousElementSibling;\n  if(label && label.tagName === \"LABEL\"){\n    label.classList.toggle('push__up');\n  }\n});\n\nfunction hideLabel(inputName){\n  inputName.previousElementSibling.classList.add('is__hidden');\n}\nfunction showLabel(inputName){\n  inputName.previousElementSibling.classList.remove('is__hidden');\n}\n\nform.addEventListener('focusout', (e) =>{\n  const label = e.target.previousElementSibling;\n  if(label && label.tagName === \"LABEL\"){\n    label.classList.toggle('push__up');\n  }\n  for(let i=0; i < formInput.length; i++){\n    if(formInput[i].value){\n      hideLabel(formInput[i]);\n    }else{\n      showLabel(formInput[i]);\n    }\n  }\n  if(msg.value){\n    hideLabel(msg);\n  }else{\n    showLabel(msg);\n  }\n});\n\n// //\n// // Seding Contact Form Email\n// //\n\nconst fullName = document.querySelector('#fullName');\nconst phone = document.querySelector('#phone');\nconst email = document.querySelector('#email');\nconst buttonContainer = document.querySelector('.form__fieldset--button');\nconst button = document.querySelector('.form__button');\n\nfunction getFormData() {\n  let data = {\n    fullName: [fullName.value],\n    phone: [phone.value],\n    email: [email.value],\n    message: [msg.value]\n  };\n  return data;\n}\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  if(!message.value){\n    buttonContainer.removeChild(button);\n    const replaceButton = `<button type=\"submit\" class=\"form__button--disabled\" disabled>\n    <svg class=\"form__icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\n      <path d=\"M12.655 11.167C5.051 18.14 4.54 29.959 11.512 37.564l2.999-2.75c-5.455-5.948-5.056-15.194.894-20.65l-2.75-2.997z\">\n        <animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.6s\" repeatCount=\"indefinite\"/>\n      </path>\n    </svg>\n  </button>`;\n  buttonContainer.insertAdjacentHTML('afterbegin',replaceButton);\n  const data = getFormData();\n  const url = event.target.action;\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', url);\n  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === xhr.DONE) {\n      if (xhr.status === 200) {\n        form.style.display = 'none';\n        document.querySelector('#contact__title').innerHTML= 'Message Sent!';\n        document.querySelector('#contact__text').innerHTML= 'Thank you for getting in touch. I will get back to you shortly.';\n        const contact = document.querySelector('.contact');\n        const checkImage = `<div class=\"form__check\">\n        <svg class=\"form__icon--big\">\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"img/sprite/sprite.svg#svg--check\"></use>\n        </svg>\n      </div>`;\n      contact.insertAdjacentHTML('afterbegin',checkImage);\n\n      return;\n    }\n  }\n};\nlet encoded = Object.keys(data).map(function(k) {\n  return encodeURIComponent(k) + '=' + encodeURIComponent(data[k])\n}).join('&')\nxhr.send(encoded);\n}\n}\n\nform.addEventListener(\"submit\", handleFormSubmit, false);\n"]}